[{"C:\\nodes\\blog\\frontend\\src\\index.js":"1","C:\\nodes\\blog\\frontend\\src\\reportWebVitals.js":"2","C:\\nodes\\blog\\frontend\\src\\App.js":"3","C:\\nodes\\blog\\frontend\\src\\Layout\\Layout.js":"4","C:\\nodes\\blog\\frontend\\src\\Layout\\Footer.js":"5","C:\\nodes\\blog\\frontend\\src\\Layout\\Navbar.js":"6","C:\\nodes\\blog\\frontend\\src\\pages\\Home.js":"7","C:\\nodes\\blog\\frontend\\src\\pages\\Signin.js":"8","C:\\nodes\\blog\\frontend\\src\\actions\\auth.js":"9","C:\\nodes\\blog\\frontend\\src\\pages\\Dashboard.js":"10","C:\\nodes\\blog\\frontend\\src\\pages\\PostDetails.js":"11","C:\\nodes\\blog\\frontend\\src\\actions\\Admin.js":"12","C:\\nodes\\blog\\frontend\\src\\components\\category.js":"13","C:\\nodes\\blog\\frontend\\src\\actions\\category.js":"14","C:\\nodes\\blog\\frontend\\src\\components\\blog.js":"15","C:\\nodes\\blog\\frontend\\src\\actions\\blog.js":"16","C:\\nodes\\blog\\frontend\\src\\pages\\SingleBlog.js":"17","C:\\nodes\\blog\\frontend\\src\\components\\allblogs.js":"18","C:\\nodes\\blog\\frontend\\src\\pages\\CategoryHome.js":"19"},{"size":500,"mtime":1610469156985,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":499162500000,"results":"22","hashOfConfig":"21"},{"size":1510,"mtime":1611063017856,"results":"23","hashOfConfig":"21"},{"size":725,"mtime":1610286774069,"results":"24","hashOfConfig":"21"},{"size":492,"mtime":1609798831112,"results":"25","hashOfConfig":"21"},{"size":2270,"mtime":1610486486156,"results":"26","hashOfConfig":"21"},{"size":9222,"mtime":1611138487566,"results":"27","hashOfConfig":"21"},{"size":3516,"mtime":1609798966031,"results":"28","hashOfConfig":"21"},{"size":1982,"mtime":1610458654737,"results":"29","hashOfConfig":"21"},{"size":2375,"mtime":1610886531268,"results":"30","hashOfConfig":"21"},{"size":8033,"mtime":1611060618949,"results":"31","hashOfConfig":"21"},{"size":400,"mtime":1611056442660,"results":"32","hashOfConfig":"21"},{"size":4117,"mtime":1610884838856,"results":"33","hashOfConfig":"21"},{"size":1924,"mtime":1611135611972,"results":"34","hashOfConfig":"21"},{"size":6830,"mtime":1611058511427,"results":"35","hashOfConfig":"21"},{"size":3758,"mtime":1610885038687,"results":"36","hashOfConfig":"21"},{"size":6793,"mtime":1611062784657,"results":"37","hashOfConfig":"21"},{"size":3017,"mtime":1610887078767,"results":"38","hashOfConfig":"21"},{"size":2824,"mtime":1611136186513,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},"1jsjd9d",{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"43"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"55","usedDeprecatedRules":"43"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"43"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"43"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":1,"source":"68","usedDeprecatedRules":"43"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"43"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"43"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"43"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"43"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"43"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\nodes\\blog\\frontend\\src\\index.js",["90"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { renderToString } from \"react-dom/server\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",["91","92"],"C:\\nodes\\blog\\frontend\\src\\reportWebVitals.js",[],"C:\\nodes\\blog\\frontend\\src\\App.js",["93","94","95"],"import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport Layout from \"./Layout/Layout\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport SigninComponent from \"./pages/Signin\";\nimport Dashboard from \"./pages/Dashboard\";\nimport PostDetails from \"./pages/PostDetails\";\nimport SingleBlog from \"./pages/SingleBlog\";\nimport CategoryHome from \"./pages/CategoryHome\";\n\nconst production = false;\n\nexport const API = production\n  ? process.env.REACT_APP_PRODUCTION_API\n  : process.env.REACT_APP_DEVELOPMENT_API;\n\nexport const APP_NAME = process.env.REACT_APP_APP_NAME;\n\nconsole.log(API);\nconsole.log(process.env.REACT_APP_DOMAIN);\n\nconsole.log(API);\n\nexport const DOMAIN = production\n  ? process.env.REACT_APP_DOMAIN_API\n  : process.env.REACT_APP_DEVELOPMENT_API;\n\nfunction App() {\n  return (\n    <Layout>\n      <div>\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/signin\" exact component={SigninComponent} />\n          <Route path=\"/myDashboard\" exact component={Dashboard} />\n          <Route path=\"/myDashboard/post/:id\" exact component={PostDetails} />\n          <Route path=\"/blog/:id\" exact component={SingleBlog} />\n          <Route path=\"/categories/:id\" exact component={CategoryHome} />\n        </Switch>\n      </div>\n    </Layout>\n  );\n}\n\nexport default App;\n","C:\\nodes\\blog\\frontend\\src\\Layout\\Layout.js",[],"C:\\nodes\\blog\\frontend\\src\\Layout\\Footer.js",[],"C:\\nodes\\blog\\frontend\\src\\Layout\\Navbar.js",["96","97","98"],"import React from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport { signout, isAuth } from \"../actions/auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst Navbar = () => {\r\n  let history = useHistory();\r\n\r\n  const refreshPage = () => {\r\n    history.push(\"/signin\");\r\n    setTimeout(\r\n      function () {\r\n        window.location.reload();\r\n      }.bind(this),\r\n      500\r\n    );\r\n  };\r\n  return (\r\n    <nav\r\n      className=\"navbar navbar-expand-sm navbar-dark bg-dark p-0\"\r\n      style={{ fontWeight: \"bold\" }}\r\n    >\r\n      <div className=\"container\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          Blog\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarCollapse\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n          <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item px-2\">\r\n              <Link to=\"/\" className=\"nav-link \">\r\n                Dashboard\r\n              </Link>\r\n            </li>\r\n            {isAuth() && isAuth().role === 1 ? (\r\n              <>\r\n                <li className=\"nav-item px-2\">\r\n                  <Link to={\"/myDashboard\"} className=\"nav-link\">\r\n                    My Board\r\n                  </Link>\r\n                </li>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {!isAuth() && (\r\n              <>\r\n                <li className=\"nav-item px-2\">\r\n                  <Link to=\"/signin\" className=\"nav-link\">\r\n                    Login\r\n                  </Link>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            {isAuth() && (\r\n              <li className=\"nav-item px-2\">\r\n                <a\r\n                  className=\"nav-link\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => signout(() => refreshPage())}\r\n                >\r\n                  Logout\r\n                </a>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","C:\\nodes\\blog\\frontend\\src\\pages\\Home.js",["99","100","101","102","103","104"],"C:\\nodes\\blog\\frontend\\src\\pages\\Signin.js",["105"],"import { useState } from \"react\";\r\nimport { signin, authenticate, isAuth } from \"../actions/auth\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\n\r\nconst SigninComponent = () => {\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    email: \"demo@demo.com\",\r\n    password: \"demodemo\",\r\n    errors: [],\r\n    loading: false,\r\n    message: \"\",\r\n    showForm: true,\r\n  });\r\n\r\n  const { email, password, errors, loading, message, showForm } = values;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.table({ name, email, password, error, loading, message, showForm });\r\n    setValues({ ...values, loading: true, error: false });\r\n\r\n    const user = { email, password };\r\n\r\n    signin(user).then((data) => {\r\n      console.log(data);\r\n      if (data.data.error.length > 0) {\r\n        setValues({\r\n          ...values,\r\n          errors: data.data.errorArray || data.data.error,\r\n          loading: false,\r\n        });\r\n      } else {\r\n        // save user token to cookie\r\n        // save user info to localstorage\r\n        // authenticate user\r\n        authenticate(data, () => {\r\n          if (isAuth() && isAuth().role === 1) {\r\n            history.push(`/myDashboard`);\r\n            window.location.reload();\r\n          } else {\r\n            history.push(`/`);\r\n            window.location.reload();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (name) => (e) => {\r\n    setValues({ ...values, error: false, [name]: e.target.value });\r\n  };\r\n\r\n  const showLoading = () =>\r\n    loading ? <div className=\"alert alert-info\">Loading...</div> : \"\";\r\n\r\n  const showError = () =>\r\n    errors.length > 0 ? (\r\n      <div>\r\n        {errors.map((err, i) => (\r\n          <div key={i} className=\"alert alert-danger\">\r\n            {err}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    ) : (\r\n      \"\"\r\n    );\r\n  const showMessage = () =>\r\n    message ? <div className=\"alert alert-info\">{message}</div> : \"\";\r\n\r\n  const signinForm = () => {\r\n    return (\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        style={{ paddingLeft: \"55px\", paddingRight: \"55px\", margin: \"30px\" }}\r\n      >\r\n        <div className=\"form-group\">\r\n          <input\r\n            value={email}\r\n            onChange={handleChange(\"email\")}\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"Type your email\"\r\n          />\r\n        </div>\r\n        <br></br>\r\n        <div className=\"form-group\">\r\n          <input\r\n            value={password}\r\n            onChange={handleChange(\"password\")}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Type your password\"\r\n          />\r\n        </div>\r\n        <br></br>\r\n        <div>\r\n          <button className=\"btn btn-primary\">Login</button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <br></br> <br></br> <br></br>\r\n      <div class=\"card\">\r\n        <div class=\"card-body\" style={{ textAlign: \"center\" }}>\r\n          <h5 class=\"card-title\">Login</h5>\r\n          {showError()}\r\n          {showLoading()}\r\n          {showMessage()}\r\n          {showForm && signinForm()}\r\n        </div>\r\n      </div>\r\n      <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br>{\" \"}\r\n      <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br>{\" \"}\r\n      <br></br> <br></br> <br></br>\r\n      <br></br>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SigninComponent;\r\n","C:\\nodes\\blog\\frontend\\src\\actions\\auth.js",[],"C:\\nodes\\blog\\frontend\\src\\pages\\Dashboard.js",["106"],"import React from \"react\";\r\nimport Admin from \"../actions/Admin\";\r\nimport CreateBlog from \"../components/blog\";\r\nimport Category from \"../components/category\";\r\nimport AllBlogs from \"../components/allblogs\";\r\n\r\nconst Dashboard = () => {\r\n  return (\r\n    <Admin>\r\n      <div>\r\n        <header id=\"main-header\" className=\"py-2 bg-primary text-white\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <h1>\r\n                  <i className=\"fas fa-cog\"></i> Dashboard\r\n                </h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <section id=\"actions\" className=\"py-4 mb-4 bg-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12\" style={{ width: \"100%\" }}>\r\n                <a\r\n                  href=\"#\"\r\n                  className=\"btn btn-success btn-block\"\r\n                  data-toggle=\"modal\"\r\n                  data-target=\"#addCategoryModal\"\r\n                  style={{ width: \"100%\" }}\r\n                >\r\n                  <i className=\"fas fa-plus\"></i> Add Category\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <CreateBlog />\r\n        <section>\r\n          <div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header\">\r\n                    <h4>Latest Posts</h4>\r\n                  </div>\r\n                  <AllBlogs />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <div className=\"modal fade\" id=\"addCategoryModal\">\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header bg-success text-white\">\r\n                <h5 className=\"modal-title\">Add Category</h5>\r\n                <button className=\"close\" data-dismiss=\"modal\">\r\n                  <span>&times;</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"modal-body \">\r\n                <Category />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Admin>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","C:\\nodes\\blog\\frontend\\src\\pages\\PostDetails.js",["107","108","109","110","111","112","113","114","115","116"],"import { useState, useEffect } from \"react\";\r\nimport { withRouter, Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { singleBlog, updateBlog } from \"../actions/blog\";\r\n\r\nimport { getCookie, isAuth } from \"../actions/auth\";\r\nimport { getCategories } from \"../actions/category\";\r\nimport renderHTML from \"react-render-html\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nconst BASE_URL = process.env.REACT_APP_DEVELOPMENT_API;\r\nconst QuillModules = {\r\n  toolbar: [\r\n    [{ header: \"1\" }, { header: \"2\" }, { header: [3, 4, 5, 6] }, { font: [] }],\r\n    [{ size: [] }],\r\n    [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\r\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n    [\"link\", \"image\", \"video\"],\r\n    [\"clean\"],\r\n    [\"code-block\"],\r\n  ],\r\n};\r\n\r\nconst QuillFormats = [\r\n  \"header\",\r\n  \"font\",\r\n  \"size\",\r\n  \"bold\",\r\n  \"italic\",\r\n  \"underline\",\r\n  \"strike\",\r\n  \"blockquote\",\r\n  \"list\",\r\n  \"bullet\",\r\n  \"link\",\r\n  \"image\",\r\n  \"video\",\r\n  \"code-block\",\r\n];\r\n\r\nconst BlogUpdate = (props) => {\r\n  let history = useHistory();\r\n  const [body, setBody] = useState(\"\");\r\n  const [titleBlog, setTitleBlog] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const [checked, setChecked] = useState([]); // categories\r\n  const [checkedTag, setCheckedTag] = useState([]); // tags\r\n\r\n  const [values, setValues] = useState({\r\n    title: \"\",\r\n    error: \"\",\r\n    success: \"\",\r\n    formData: \"\",\r\n    title: \"\",\r\n    body: \"\",\r\n    reload: false,\r\n  });\r\n\r\n  const { error, success, formData, title, reload } = values;\r\n  const token = getCookie(\"token\");\r\n  const query = props.history.location.pathname.substring(18);\r\n\r\n  useEffect(() => {\r\n    initBlog();\r\n  }, []);\r\n\r\n  //form Data not async\r\n  const initForm = () => {\r\n    setTimeout(\r\n      function () {\r\n        setValues({ ...values, formData: new FormData() });\r\n        console.log(formData);\r\n      }.bind(this),\r\n      2000\r\n    );\r\n  };\r\n\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        console.log(data.data.data);\r\n        setCategories(data.data.data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const initBlog = () => {\r\n    if (query) {\r\n      singleBlog(query).then((data) => {\r\n        if (data.error) {\r\n          console.log(data.error);\r\n        } else {\r\n          console.log(data.data.body);\r\n          setValues({ ...values, title: data.data.title });\r\n          setTitleBlog(data.data.title);\r\n          setBody(data.data.body);\r\n          setCategoriesArray(data.data.categories);\r\n        }\r\n      });\r\n    }\r\n    initCategories();\r\n    initForm();\r\n  };\r\n\r\n  const setCategoriesArray = (blogCategories) => {\r\n    console.log(blogCategories);\r\n    let ca = [];\r\n    blogCategories.map((c, i) => {\r\n      console.log(c);\r\n      ca.push(c._id);\r\n    });\r\n    setChecked(ca);\r\n    console.log(ca);\r\n  };\r\n\r\n  const handleToggle = (c) => () => {\r\n    setValues({ ...values, error: \"\" });\r\n    // return the first index or -1\r\n    const clickedCategory = checked.indexOf(c);\r\n    const all = [...checked];\r\n\r\n    if (clickedCategory === -1) {\r\n      all.push(c);\r\n    } else {\r\n      all.splice(clickedCategory, 1);\r\n    }\r\n    console.log(all);\r\n    setChecked(all);\r\n\r\n    formData.set(\"categories\", all);\r\n    console.log(formData);\r\n  };\r\n\r\n  const findOutCategory = (c) => {\r\n    const result = checked.indexOf(c);\r\n    if (result !== -1) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const showCategories = () => (\r\n    <div>\r\n      {categories.length > 0\r\n        ? categories.map((c, i) => (\r\n            <li key={i} className=\"list-unstyled\">\r\n              <input\r\n                onChange={handleToggle(c._id)}\r\n                checked={findOutCategory(c._id)}\r\n                type=\"checkbox\"\r\n                className=\"mr-2\"\r\n              />\r\n              <label className=\"form-check-label\">{c.name}</label>\r\n            </li>\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n\r\n  const handleChange = (name) => (e) => {\r\n    console.log(e.target.name);\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n\r\n    setValues({ ...values, [name]: value, formData, error: \"\" });\r\n    if (e.target.name === \"title\") {\r\n      setTitleBlog(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleBody = (e) => {\r\n    console.log(e);\r\n\r\n    setBody(e);\r\n\r\n    formData.set(\"body\", e);\r\n    //console.log(formData.get(\"body\"));\r\n\r\n    localStorage.setItem(\"blog\", JSON.stringify(e));\r\n  };\r\n\r\n  const editBlog = (e) => {\r\n    e.preventDefault();\r\n    updateBlog(formData, token, query).then((data) => {\r\n      console.log(formData);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          title: \"\",\r\n          success: `Blog titled \"${data.title}\" is successfully updated`,\r\n        });\r\n        if (isAuth() && isAuth().role === 1) {\r\n          history.push(`/myDashboard`);\r\n        } else if (isAuth() && isAuth().role === 0) {\r\n          history.push(`/`);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-success\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      {success}\r\n    </div>\r\n  );\r\n\r\n  const updateBlogForm = () => {\r\n    return (\r\n      <form enctype=\"multipart/form-data\">\r\n        <div className=\"form-group\">\r\n          <label className=\"text-muted\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            value={titleBlog}\r\n            onChange={handleChange(\"title\")}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <ReactQuill\r\n            modules={QuillModules}\r\n            formats={QuillFormats}\r\n            value={body}\r\n            placeholder=\"Write something amazing...\"\r\n            onChange={() => handleBody}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            onClick={editBlog}\r\n            className=\"btn btn-primary\"\r\n            style={{\r\n              marginTop: \"0.1em\",\r\n              width: \"100%\",\r\n              padding: \"10px\",\r\n              fontSize: \"5rem\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            Update\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid pb-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8\">\r\n          {updateBlogForm()}\r\n\r\n          <div className=\"pt-3\">\r\n            {showSuccess()}\r\n            {showError()}\r\n          </div>\r\n\r\n          {body && (\r\n            <img\r\n              src={`${BASE_URL}/blog/photo/${query}`}\r\n              alt={title}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <div>\r\n            <div className=\"form-group pb-2\">\r\n              <h5>Featured image</h5>\r\n              <hr />\r\n\r\n              <small className=\"text-muted\">Max size: 1mb</small>\r\n              <br />\r\n              <label className=\"btn btn-outline-info\">\r\n                Upload featured image\r\n                <input\r\n                  onChange={handleChange(\"photo\")}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  hidden\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h5>Categories</h5>\r\n            <hr />\r\n\r\n            <ul style={{ maxHeight: \"200px\", overflowY: \"scroll\" }}>\r\n              {showCategories()}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogUpdate;\r\n","C:\\nodes\\blog\\frontend\\src\\actions\\Admin.js",["117"],"import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { isAuth } from \"./auth\";\r\n\r\nconst Admin = ({ children }) => {\r\n  let history = useHistory();\r\n  useEffect(() => {\r\n    if (!isAuth()) {\r\n      history.push(\"/signin\");\r\n    } else if (isAuth().role !== 1) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default Admin;\r\n","C:\\nodes\\blog\\frontend\\src\\components\\category.js",["118"],"import { useState, useEffect } from \"react\";\r\n\r\nimport { getCookie } from \"../actions/auth\";\r\nimport { create, getCategories, removeCategory } from \"../actions/category\";\r\n\r\nconst Category = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    error: false,\r\n    success: false,\r\n    categories: [\"\"],\r\n    removed: false,\r\n    reload: false,\r\n  });\r\n\r\n  const { name, error, success, categories, removed, reload } = values;\r\n  const token = getCookie(\"token\");\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, [reload]);\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setValues({ ...values, categories: data.data.data });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showCategories = () => (\r\n    <div>\r\n      <table className=\"table table-striped\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th>#</th>\r\n            <th>_ID</th>\r\n            <th>SLUG</th>\r\n            <th>NAME</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {categories.length > 0\r\n            ? categories.map((cat, i) => (\r\n                <tr key={i}>\r\n                  <td>{i + 1}</td>\r\n                  <td>{cat._id}</td>\r\n                  <td>{cat.slug}</td>\r\n                  <td>{cat.name}</td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => deleteConfirm(cat.slug)}\r\n                    >\r\n                      <i className=\"fas fa-angle-double-right\"></i> Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            : \"\"}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n\r\n  const deleteConfirm = (slug) => {\r\n    let answer = window.confirm(\r\n      \"Are you sure you want to delete this category?\"\r\n    );\r\n    if (answer) {\r\n      deleteCategory(slug);\r\n    }\r\n  };\r\n\r\n  const deleteCategory = (slug) => {\r\n    // console.log('delete', slug);\r\n\r\n    removeCategory(slug, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          error: false,\r\n          success: false,\r\n          name: \"\",\r\n          removed: !removed,\r\n          reload: !reload,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const clickSubmit = () => {\r\n    // console.log('create category', name);\r\n    create(name, token).then((data) => {\r\n      setValues({\r\n        ...values,\r\n        error: false,\r\n        success: false,\r\n        name: \"\",\r\n        removed: !removed,\r\n        reload: !reload,\r\n      });\r\n    });\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({\r\n      ...values,\r\n      name: e.target.value,\r\n      error: false,\r\n      success: false,\r\n      removed: \"\",\r\n    });\r\n  };\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <p className=\"text-success\">Category is created</p>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <p className=\"text-danger\">Category already exist</p>;\r\n    }\r\n  };\r\n\r\n  const showRemoved = () => {\r\n    if (removed) {\r\n      return <p className=\"text-danger\">Category is removed</p>;\r\n    }\r\n  };\r\n\r\n  const newCategoryFom = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            onClick={clickSubmit}\r\n            className=\"btn btn-success\"\r\n            data-dismiss=\"modal\"\r\n          >\r\n            Create\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {showSuccess()}\r\n      {showError()}\r\n      {showRemoved()}\r\n\r\n      {newCategoryFom()}\r\n      {showCategories()}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n","C:\\nodes\\blog\\frontend\\src\\actions\\category.js",[],"C:\\nodes\\blog\\frontend\\src\\components\\blog.js",["119","120","121","122","123","124","125","126"],"import { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { getCookie, isAuth } from \"../actions/auth\";\r\nimport { getCategories } from \"../actions/category\";\r\nimport { createBlog } from \"../actions/blog\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { get } from \"js-cookie\";\r\n\r\nconst QuillModules = {\r\n  toolbar: [\r\n    [{ header: \"1\" }, { header: \"2\" }, { header: [3, 4, 5, 6] }, { font: [] }],\r\n    [{ size: [] }],\r\n    [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\r\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n    [\"link\", \"image\", \"video\"],\r\n    [\"clean\"],\r\n    [\"code-block\"],\r\n  ],\r\n};\r\n\r\nconst QuillFormats = [\r\n  \"header\",\r\n  \"font\",\r\n  \"size\",\r\n  \"bold\",\r\n  \"italic\",\r\n  \"underline\",\r\n  \"strike\",\r\n  \"blockquote\",\r\n  \"list\",\r\n  \"bullet\",\r\n  \"link\",\r\n  \"image\",\r\n  \"video\",\r\n  \"code-block\",\r\n];\r\n\r\nconst CreateBlog = () => {\r\n  const blogFromLS = () => {\r\n    if (typeof window.location.reload === \"undefined\") {\r\n      return false;\r\n    }\r\n\r\n    if (localStorage.getItem(\"blog\")) {\r\n      return JSON.parse(localStorage.getItem(\"blog\"));\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  const [categories, setCategories] = useState([]);\r\n  const [checked, setChecked] = useState([]); // categories\r\n  const [body, setBody] = useState(blogFromLS());\r\n  const [values, setValues] = useState({\r\n    error: \"\",\r\n    sizeError: \"\",\r\n    success: \"\",\r\n    formData: \"\",\r\n    title: \"\",\r\n    hidePublishButton: false,\r\n    reload: false,\r\n  });\r\n\r\n  const {\r\n    error,\r\n    sizeError,\r\n    success,\r\n    formData,\r\n    title,\r\n    hidePublishButton,\r\n    reload,\r\n  } = values;\r\n  const token = getCookie(\"token\");\r\n\r\n  useEffect(() => {\r\n    initForm();\r\n    //initCategories();\r\n    initCategories();\r\n  }, [reload]);\r\n\r\n  // body\r\n  const initForm = () => {\r\n    setValues({ ...values, formData: new FormData() });\r\n    console.log();\r\n  };\r\n  // body\r\n  const publishBlog = (e) => {\r\n    e.preventDefault();\r\n\r\n    createBlog(formData, token).then((data) => {\r\n      console.log(data);\r\n      if (data.data.error) {\r\n        console.log(data.data.error);\r\n        setValues({ ...values, error: data.data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          title: \"\",\r\n          error: \"\",\r\n          success: `A new blog titled \"${data.data.title}\" is created`,\r\n        });\r\n        setBody(\"\");\r\n        setCategories([]);\r\n      }\r\n    });\r\n  };\r\n  // body\r\n  const createBlogForm = () => {\r\n    return (\r\n      <form enctype=\"multipart/form-data\">\r\n        <div className=\"form-group\">\r\n          <label className=\"text-muted\">Title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            value={title}\r\n            onChange={handleChange(\"title\")}\r\n            style={{ marginBottom: \"2em\" }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <ReactQuill\r\n            name=\"body\"\r\n            type=\"text\"\r\n            modules={QuillModules}\r\n            formats={QuillFormats}\r\n            value={body}\r\n            placeholder=\"Write something amazing...\"\r\n            onChange={handleBody}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            onClick={publishBlog}\r\n            className=\"btn btn-primary\"\r\n            style={{\r\n              marginTop: \"0.1em\",\r\n              width: \"100%\",\r\n              padding: \"10px\",\r\n              fontSize: \"5rem\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            Publish Blog\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n  // body\r\n  const handleChange = (name) => (e) => {\r\n    // console.log(e.target.value);\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n\r\n    setValues({ ...values, [name]: value, formData, error: \"\" });\r\n  };\r\n  // body\r\n  const handleBody = (e) => {\r\n    setBody(e);\r\n    formData.set(\"body\", e);\r\n    formData.get(\"body\");\r\n    console.log(e);\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"blog\", JSON.stringify(e));\r\n    }\r\n  };\r\n  // categories\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      console.log(data);\r\n      setCategories(data.data.data);\r\n    });\r\n  };\r\n  // categories\r\n  const showCategories = () => {\r\n    return categories.length > 0\r\n      ? categories.map((c, i) => (\r\n          <li key={i} className=\"list-unstyled\">\r\n            <input\r\n              onChange={handleToggle(c._id)}\r\n              type=\"checkbox\"\r\n              className=\"mr-2\"\r\n            />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n          </li>\r\n        ))\r\n      : null;\r\n  };\r\n  // categories\r\n  const handleToggle = (c) => () => {\r\n    setValues({ ...values, error: \"\" });\r\n    // return the first index or -1\r\n    const clickedCategory = checked.indexOf(c);\r\n    const all = [...checked];\r\n\r\n    if (clickedCategory === -1) {\r\n      all.push(c);\r\n    } else {\r\n      //index clickedCategory\r\n      all.splice(clickedCategory, 1);\r\n    }\r\n    console.log(all);\r\n    setChecked(all);\r\n    formData.set(\"categories\", all);\r\n  };\r\n  // validate\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n  // validate\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-success\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      {success}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid pb-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8\">\r\n          {showError()}\r\n          {createBlogForm()}\r\n          <div className=\"pt-3\">{showSuccess()}</div>\r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <div>\r\n            <div className=\"form-group pb-2\">\r\n              <h5>Featured image</h5>\r\n              <hr />\r\n\r\n              <small className=\"text-muted\">Max size: 1mb</small>\r\n              <br />\r\n              <label className=\"btn btn-outline-info\">\r\n                Upload featured image\r\n                <input\r\n                  onChange={handleChange(\"photo\")}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  hidden\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h5>Categories</h5>\r\n            <hr />\r\n\r\n            <ul style={{ maxHeight: \"200px\", overflowY: \"scroll\" }}>\r\n              {showCategories()}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateBlog;\r\n","C:\\nodes\\blog\\frontend\\src\\actions\\blog.js",[],"C:\\nodes\\blog\\frontend\\src\\pages\\SingleBlog.js",["127","128","129","130","131","132","133","134","135"],"import {\r\n  withRouter,\r\n  useHistory,\r\n  Link,\r\n  RouteComponentProps,\r\n} from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { singleBlog, listRelated } from \"../actions/blog\";\r\nimport { DOMAIN, APP_NAME } from \"../App\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport renderHTML from \"react-render-html\";\r\nimport moment from \"moment\";\r\nimport queryString from \"query-string\";\r\nconst BASE_URL = process.env.REACT_APP_DEVELOPMENT_API;\r\n\r\nconst SingleBlog = (props) => {\r\n  const [related, setRelated] = useState([]);\r\n  const [blog, setBlog] = useState(null);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [loaded, setLoaded] = useState(false);\r\n  //get ralated\r\n  const loadRelated = (query) => {\r\n    listRelated(query).then((data) => {\r\n      console.log(data.data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        const relate = data.data;\r\n\r\n        setRelated([...related, relate]);\r\n        setLoaded(true);\r\n      }\r\n    });\r\n  };\r\n  //init blog\r\n  const getSingleBlog = () => {\r\n    const query = props.history.location.pathname.substring(6);\r\n    singleBlog(query).then((data) => {\r\n      console.log(query);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        // console.log('GET INITIAL PROPS IN SINGLE BLOG', data);\r\n        setBlog(data.data);\r\n        setQuery(query);\r\n        setLoaded(true);\r\n        loadRelated(data.data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getSingleBlog();\r\n  }, []);\r\n\r\n  //META\r\n  const headMeta = () => (\r\n    <div className=\"application\">\r\n      <Helmet>\r\n        <title>{APP_NAME}</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\r\n        />\r\n        <link rel=\"canonical\" href={`${DOMAIN}`} />\r\n        <meta\r\n          property=\"og:title\"\r\n          content={`Latest web developoment tutorials | ${APP_NAME}`}\r\n        />\r\n        <meta\r\n          property=\"og:description\"\r\n          content=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\r\n        />\r\n        <meta property=\"og:type\" content=\"webiste\" />\r\n        <meta property=\"og:url\" content={`${DOMAIN}`} />\r\n        <meta property=\"og:site_name\" content={`${APP_NAME}`} />\r\n\r\n        <meta\r\n          property=\"og:image\"\r\n          content={`${DOMAIN}/static/images/seoblog.jpg`}\r\n        />\r\n        <meta\r\n          property=\"og:image:secure_url\"\r\n          ccontent={`${DOMAIN}/static/images/seoblog.jpg`}\r\n        />\r\n        <meta property=\"og:image:type\" content=\"image/jpg\" />\r\n      </Helmet>\r\n    </div>\r\n  );\r\n\r\n  //show all loaded categories\r\n  const showBlogCategories = (blog) => (\r\n    <div>\r\n      {blog != null\r\n        ? blog.categories.map((c, i) => (\r\n            <Link\r\n              key={i}\r\n              to={`/categories/${c.slug}`}\r\n              style={{ margin: \"10px\" }}\r\n            >\r\n              <a className=\"btn btn-primary mr-1 ml-1 mt-3\">{c.name}</a>\r\n            </Link>\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n  //show all realated blogs\r\n  const showRelatedBlog = () => (\r\n    <div>\r\n      {related.length > 1\r\n        ? related.map((blog, i) => (\r\n            <div className=\"col-3\" key={i}>\r\n              <article>\r\n                <div className=\"card\">\r\n                  <section>\r\n                    <Link href={`/blogs/${blog.slug}`}>\r\n                      <a>\r\n                        <img\r\n                          className=\"img img-fluid\"\r\n                          style={{ maxHeight: \"auto\", width: \"100%\" }}\r\n                          src={`${BASE_URL}/blog/photo/${blog.slug}`}\r\n                          alt={blog.title}\r\n                        />\r\n                      </a>\r\n                    </Link>\r\n                  </section>\r\n\r\n                  <div className=\"card-body\">\r\n                    <section>\r\n                      <Link href={`/blogs/${blog.slug}`}>\r\n                        <a>\r\n                          <h5 className=\"card-title\">{blog.title}</h5>\r\n                        </a>\r\n                      </Link>\r\n                      <p className=\"card-text\">{renderHTML(blog.excerpt)}</p>\r\n                    </section>\r\n                  </div>\r\n\r\n                  <div className=\"card-body\">\r\n                    Posted {moment(blog.updatedAt).fromNow()} by{\" \"}\r\n                    <Link href={`/`}>\r\n                      <a className=\"float-right\">{blog.postedBy.name}</a>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </article>\r\n            </div>\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n\r\n  //show blog\r\n  const showBlog = (blog) => (\r\n    <div>\r\n      {loaded ? (\r\n        <main>\r\n          <article>\r\n            <div className=\"\">\r\n              <section>\r\n                <div className=\"row\" style={{ marginTop: \"30px\" }}>\r\n                  <img\r\n                    src={`${BASE_URL}/blog/photo/${blog.slug}`}\r\n                    alt={blog.title}\r\n                    className=\"img img-fluid featured-image\"\r\n                    style={{\r\n                      maxHeight: \"500px\",\r\n                      width: \"100%\",\r\n                    }}\r\n                  />\r\n                </div>\r\n              </section>\r\n\r\n              <section>\r\n                <div className=\"container\">\r\n                  <h1\r\n                    className=\"display-2 pb-3 pt-3 text-center\"\r\n                    style={{ fontWeight: \"bold\" }}\r\n                  >\r\n                    {blog.title}\r\n                  </h1>\r\n                  <p className=\"lead mt-3 mark\">\r\n                    Written by {blog.postedBy.name} | Published{\" \"}\r\n                    {moment(blog.updatedAt).fromNow()}\r\n                  </p>\r\n\r\n                  <div className=\"pb-3\">\r\n                    {showBlogCategories(blog)}\r\n\r\n                    <br />\r\n                    <br />\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </div>\r\n\r\n            <p className=\"container\" style={{ wordWrap: \"break-word\" }}>\r\n              {renderHTML(String(blog.body))}\r\n            </p>\r\n\r\n            <div className=\"container\">\r\n              <h4 className=\"text-center pt-5 pb-5 h2\">Related blogs</h4>\r\n              <div className=\"row\">{showRelatedBlog()}</div>\r\n            </div>\r\n\r\n            <div className=\"container pb-5\">\r\n              <p>show comments</p>\r\n            </div>\r\n          </article>\r\n        </main>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"application\">\r\n      {headMeta()}\r\n      <div>{showBlog(blog)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(SingleBlog);\r\n","C:\\nodes\\blog\\frontend\\src\\components\\allblogs.js",["136","137","138"],"import { useState, useEffect } from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nimport { getCookie, isAuth } from \"../actions/auth\";\r\nimport { list, removeBlog } from \"../actions/blog\";\r\nimport moment from \"moment\";\r\n\r\nconst AllBlogs = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const token = getCookie(\"token\");\r\n\r\n  useEffect(() => {\r\n    loadBlogs();\r\n  }, []);\r\n\r\n  const loadBlogs = () => {\r\n    list().then((data) => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setBlogs(data.data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteBlog = (slug) => {\r\n    removeBlog(slug, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setMessage(data.message);\r\n        loadBlogs();\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteConfirm = (slug) => {\r\n    let answer = window.confirm(\"Are you sure you want to delete your blog?\");\r\n    if (answer) {\r\n      deleteBlog(slug);\r\n    }\r\n  };\r\n\r\n  const showUpdateButton = (blog) => {\r\n    if (isAuth() && isAuth().role === 0) {\r\n      return (\r\n        <Link to={`/myDashboard/post/${blog.slug}`}>\r\n          <a className=\"btn btn-sm btn-warning\">Update</a>\r\n        </Link>\r\n      );\r\n    } else if (isAuth() && isAuth().role === 1) {\r\n      return (\r\n        <Link to={`/myDashboard/post/${blog.slug}`}>\r\n          <a className=\"ml-2 btn btn-sm btn-warning\">Update</a>\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n\r\n  const showAllBlogs = () => (\r\n    <div>\r\n      <table className=\"table table-striped\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Title</th>\r\n            <th>Category</th>\r\n            <th>Date</th>\r\n            <th>Delete</th>\r\n            <th>Update</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {blogs.length > 0\r\n            ? blogs.map((blog, i) => {\r\n                return (\r\n                  <tr>\r\n                    <td key={i}>{i + 1}</td>\r\n                    <td>{blog.title}</td>\r\n                    <td>Written by {blog.postedBy.name} |</td>\r\n                    <td>Published on {moment(blog.updatedAt).fromNow()}</td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-sm btn-danger\"\r\n                        onClick={() => deleteConfirm(blog.slug)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                    <td>{showUpdateButton(blog)}</td>\r\n                  </tr>\r\n                );\r\n              })\r\n            : null}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          {message && <div className=\"alert alert-warning\">{message}</div>}\r\n          {showAllBlogs()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllBlogs;\r\n","C:\\nodes\\blog\\frontend\\src\\pages\\CategoryHome.js",["139","140","141","142","143","144","145"],{"ruleId":"146","severity":1,"message":"147","line":6,"column":10,"nodeType":"148","messageId":"149","endLine":6,"endColumn":24},{"ruleId":"150","replacedBy":"151"},{"ruleId":"152","replacedBy":"153"},{"ruleId":"146","severity":1,"message":"154","line":1,"column":8,"nodeType":"148","messageId":"149","endLine":1,"endColumn":12},{"ruleId":"146","severity":1,"message":"155","line":4,"column":27,"nodeType":"148","messageId":"149","endLine":4,"endColumn":33},{"ruleId":"146","severity":1,"message":"156","line":4,"column":50,"nodeType":"148","messageId":"149","endLine":4,"endColumn":54},{"ruleId":"146","severity":1,"message":"157","line":2,"column":16,"nodeType":"148","messageId":"149","endLine":2,"endColumn":21},{"ruleId":"158","severity":1,"message":"159","line":13,"column":9,"nodeType":"160","messageId":"161","endLine":13,"endColumn":13,"fix":"162"},{"ruleId":"163","severity":1,"message":"164","line":65,"column":17,"nodeType":"165","endLine":69,"endColumn":18},{"ruleId":"146","severity":1,"message":"166","line":4,"column":10,"nodeType":"148","messageId":"149","endLine":4,"endColumn":20},{"ruleId":"146","severity":1,"message":"167","line":4,"column":22,"nodeType":"148","messageId":"149","endLine":4,"endColumn":32},{"ruleId":"168","severity":1,"message":"169","line":56,"column":6,"nodeType":"170","endLine":56,"endColumn":8,"suggestions":"171"},{"ruleId":"172","severity":1,"message":"173","line":154,"column":17,"nodeType":"174","endLine":154,"endColumn":26},{"ruleId":"146","severity":1,"message":"175","line":169,"column":9,"nodeType":"148","messageId":"149","endLine":169,"endColumn":20},{"ruleId":"172","severity":1,"message":"173","line":196,"column":17,"nodeType":"174","endLine":196,"endColumn":26},{"ruleId":"146","severity":1,"message":"166","line":3,"column":10,"nodeType":"148","messageId":"149","endLine":3,"endColumn":20},{"ruleId":"163","severity":1,"message":"176","line":27,"column":17,"nodeType":"165","endLine":33,"endColumn":18},{"ruleId":"146","severity":1,"message":"166","line":2,"column":10,"nodeType":"148","messageId":"149","endLine":2,"endColumn":20},{"ruleId":"146","severity":1,"message":"156","line":2,"column":22,"nodeType":"148","messageId":"149","endLine":2,"endColumn":26},{"ruleId":"146","severity":1,"message":"177","line":8,"column":8,"nodeType":"148","messageId":"149","endLine":8,"endColumn":18},{"ruleId":"146","severity":1,"message":"178","line":48,"column":10,"nodeType":"148","messageId":"149","endLine":48,"endColumn":20},{"ruleId":"146","severity":1,"message":"179","line":48,"column":22,"nodeType":"148","messageId":"149","endLine":48,"endColumn":35},{"ruleId":"180","severity":1,"message":"181","line":55,"column":5,"nodeType":"182","messageId":"161","endLine":55,"endColumn":10},{"ruleId":"146","severity":1,"message":"183","line":60,"column":44,"nodeType":"148","messageId":"149","endLine":60,"endColumn":50},{"ruleId":"168","severity":1,"message":"184","line":66,"column":6,"nodeType":"170","endLine":66,"endColumn":8,"suggestions":"185"},{"ruleId":"158","severity":1,"message":"159","line":74,"column":9,"nodeType":"160","messageId":"161","endLine":74,"endColumn":13,"fix":"186"},{"ruleId":"187","severity":1,"message":"188","line":111,"column":31,"nodeType":"189","messageId":"190","endLine":111,"endColumn":33},{"ruleId":"168","severity":1,"message":"191","line":13,"column":6,"nodeType":"170","endLine":13,"endColumn":8,"suggestions":"192"},{"ruleId":"168","severity":1,"message":"193","line":21,"column":6,"nodeType":"170","endLine":21,"endColumn":14,"suggestions":"194"},{"ruleId":"146","severity":1,"message":"156","line":1,"column":10,"nodeType":"148","messageId":"149","endLine":1,"endColumn":14},{"ruleId":"146","severity":1,"message":"166","line":3,"column":10,"nodeType":"148","messageId":"149","endLine":3,"endColumn":20},{"ruleId":"146","severity":1,"message":"167","line":3,"column":22,"nodeType":"148","messageId":"149","endLine":3,"endColumn":32},{"ruleId":"146","severity":1,"message":"195","line":4,"column":21,"nodeType":"148","messageId":"149","endLine":4,"endColumn":27},{"ruleId":"146","severity":1,"message":"196","line":9,"column":10,"nodeType":"148","messageId":"149","endLine":9,"endColumn":13},{"ruleId":"146","severity":1,"message":"197","line":67,"column":5,"nodeType":"148","messageId":"149","endLine":67,"endColumn":14},{"ruleId":"146","severity":1,"message":"198","line":71,"column":5,"nodeType":"148","messageId":"149","endLine":71,"endColumn":22},{"ruleId":"168","severity":1,"message":"199","line":80,"column":6,"nodeType":"170","endLine":80,"endColumn":14,"suggestions":"200"},{"ruleId":"146","severity":1,"message":"167","line":3,"column":3,"nodeType":"148","messageId":"149","endLine":3,"endColumn":13},{"ruleId":"146","severity":1,"message":"201","line":5,"column":3,"nodeType":"148","messageId":"149","endLine":5,"endColumn":22},{"ruleId":"146","severity":1,"message":"202","line":13,"column":8,"nodeType":"148","messageId":"149","endLine":13,"endColumn":19},{"ruleId":"146","severity":1,"message":"203","line":19,"column":10,"nodeType":"148","messageId":"149","endLine":19,"endColumn":15},{"ruleId":"168","severity":1,"message":"204","line":54,"column":6,"nodeType":"170","endLine":54,"endColumn":8,"suggestions":"205"},{"ruleId":"163","severity":1,"message":"164","line":101,"column":15,"nodeType":"165","endLine":101,"endColumn":61},{"ruleId":"163","severity":1,"message":"164","line":117,"column":23,"nodeType":"165","endLine":117,"endColumn":26},{"ruleId":"163","severity":1,"message":"164","line":131,"column":25,"nodeType":"165","endLine":131,"endColumn":28},{"ruleId":"163","severity":1,"message":"164","line":142,"column":23,"nodeType":"165","endLine":142,"endColumn":50},{"ruleId":"146","severity":1,"message":"157","line":2,"column":16,"nodeType":"148","messageId":"149","endLine":2,"endColumn":21},{"ruleId":"163","severity":1,"message":"164","line":50,"column":11,"nodeType":"165","endLine":50,"endColumn":49},{"ruleId":"163","severity":1,"message":"164","line":56,"column":11,"nodeType":"165","endLine":56,"endColumn":54},{"ruleId":"146","severity":1,"message":"166","line":2,"column":10,"nodeType":"148","messageId":"149","endLine":2,"endColumn":20},{"ruleId":"146","severity":1,"message":"156","line":2,"column":22,"nodeType":"148","messageId":"149","endLine":2,"endColumn":26},{"ruleId":"146","severity":1,"message":"206","line":4,"column":8,"nodeType":"148","messageId":"149","endLine":4,"endColumn":14},{"ruleId":"146","severity":1,"message":"177","line":7,"column":8,"nodeType":"148","messageId":"149","endLine":7,"endColumn":18},{"ruleId":"146","severity":1,"message":"207","line":8,"column":8,"nodeType":"148","messageId":"149","endLine":8,"endColumn":14},{"ruleId":"146","severity":1,"message":"208","line":17,"column":7,"nodeType":"148","messageId":"149","endLine":17,"endColumn":14},{"ruleId":"168","severity":1,"message":"209","line":32,"column":6,"nodeType":"170","endLine":32,"endColumn":8,"suggestions":"210"},"no-unused-vars","'renderToString' is defined but never used.","Identifier","unusedVar","no-native-reassign",["211"],"no-negated-in-lhs",["212"],"'logo' is defined but never used.","'Router' is defined but never used.","'Link' is defined but never used.","'Route' is defined but never used.","no-extra-bind","The function binding is unnecessary.","CallExpression","unexpected",{"range":"213","text":"214"},"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'withRouter' is defined but never used.","'useHistory' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'showAllBlogs'. Either include it or remove the dependency array.","ArrayExpression",["215"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'stringRegex' is assigned a value but never used.","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'renderHTML' is defined but never used.","'checkedTag' is assigned a value but never used.","'setCheckedTag' is assigned a value but never used.","no-dupe-keys","Duplicate key 'title'.","ObjectExpression","'reload' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'initBlog'. Either include it or remove the dependency array.",["216"],{"range":"217","text":"214"},"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["218"],"React Hook useEffect has a missing dependency: 'loadCategories'. Either include it or remove the dependency array.",["219"],"'isAuth' is defined but never used.","'get' is defined but never used.","'sizeError' is assigned a value but never used.","'hidePublishButton' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'initForm'. Either include it or remove the dependency array.",["220"],"'RouteComponentProps' is defined but never used.","'queryString' is defined but never used.","'query' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getSingleBlog'. Either include it or remove the dependency array.",["221"],"'Layout' is defined but never used.","'moment' is defined but never used.","'history' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'props.history.location.pathname', 'query', and 'token'. Either include them or remove the dependency array.",["222"],"no-global-assign","no-unsafe-negation",[375,386],"",{"desc":"223","fix":"224"},{"desc":"225","fix":"226"},[1924,1935],{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},{"desc":"233","fix":"234"},{"desc":"235","fix":"236"},"Update the dependencies array to be: [showAllBlogs]",{"range":"237","text":"238"},"Update the dependencies array to be: [initBlog]",{"range":"239","text":"240"},"Update the dependencies array to be: [history]",{"range":"241","text":"242"},"Update the dependencies array to be: [loadCategories, reload]",{"range":"243","text":"244"},"Update the dependencies array to be: [initForm, reload]",{"range":"245","text":"246"},"Update the dependencies array to be: [getSingleBlog]",{"range":"247","text":"248"},"Update the dependencies array to be: [props.history.location.pathname, query, token]",{"range":"249","text":"250"},[1949,1951],"[showAllBlogs]",[1725,1727],"[initBlog]",[338,340],"[history]",[531,539],"[loadCategories, reload]",[1873,1881],"[initForm, reload]",[1520,1522],"[getSingleBlog]",[1102,1104],"[props.history.location.pathname, query, token]"]